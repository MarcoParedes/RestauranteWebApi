è	
_D:\Proyectos\RestauranteWebApi\Restaurante.Solution\Restaurante.WebApi\App_Start\RouteConfig.cs
	namespace 	
Restaurante
 
. 
WebApi 
{		 
public

 

class

 
RouteConfig

 
{ 
public 
static 
void 
RegisterRoutes )
() *
RouteCollection* 9
routes: @
)@ A
{ 	
routes 
. 
IgnoreRoute 
( 
$str ;
); <
;< =
routes 
. 
MapRoute 
( 
name 
: 
$str 
,  
url 
: 
$str 1
,1 2
defaults 
: 
new 
{ 

controller  *
=+ ,
$str- 3
,3 4
action5 ;
=< =
$str> E
,E F
idG I
=J K
UrlParameterL X
.X Y
OptionalY a
}b c
) 
; 
} 	
} 
} ∞
`D:\Proyectos\RestauranteWebApi\Restaurante.Solution\Restaurante.WebApi\App_Start\WebApiConfig.cs
	namespace 	
Restaurante
 
. 
WebApi 
{ 
public		 

static		 
class		 
WebApiConfig		 $
{

 
public 
static 
void 
Register #
(# $
HttpConfiguration$ 5
config6 <
)< =
{ 	
EnableCorsAttribute 
cors  $
=% &
new' *
EnableCorsAttribute+ >
(> ?
$str? B
,B C
$strD G
,G H
$strI S
)S T
;T U
config 
. 

EnableCors 
( 
cors "
)" #
;# $
config 
. "
MapHttpAttributeRoutes )
() *
)* +
;+ ,
config 
. 
Routes 
. 
MapHttpRoute &
(& '
name 
: 
$str "
," #
routeTemplate 
: 
$str 6
,6 7
defaults 
: 
new 
{ 
id  "
=# $
RouteParameter% 3
.3 4
Optional4 <
}= >
) 
; 
} 	
} 
} —
dD:\Proyectos\RestauranteWebApi\Restaurante.Solution\Restaurante.WebApi\Controllers\HomeController.cs
	namespace 	
Restaurante
 
. 
WebApi 
. 
Controllers (
{ 
public		 

class		 
HomeController		 
:		  !

Controller		" ,
{

 
public 
ActionResult 
Index !
(! "
)" #
{ 	
return 
View 
( 
) 
; 
} 	
} 
} ü
eD:\Proyectos\RestauranteWebApi\Restaurante.Solution\Restaurante.WebApi\Controllers\PlatoController.cs
	namespace 	
Restaurante
 
. 
WebApi 
. 
Controllers (
{ 
[ 
RoutePrefix 
( 
$str 
)  
]  !
public 

class 
PlatoController  
:! "
ApiController# 0
{ 
	protected 
readonly 

IPlatosBiz %

_IPlatoBiz& 0
;0 1
public 
PlatoController 
( 

IPlatosBiz )
platoBiz* 2
)2 3
{ 	

_IPlatoBiz 
= 
platoBiz !
;! "
} 	
public 
PlatoController 
( 
)  
{ 	

_IPlatoBiz 
= 
new 
	PlatosBiz &
(& '
)' (
;( )
} 	
[ 	
HttpGet	 
] 
[   	
Route  	 
(   
$str   
)   
]    
public!! 
ResponseMessage!! 
<!! !
ObtenerPlatosResponse!! 4
>!!4 5
	GetPlatos!!6 ?
(!!? @
int!!@ C
idTipoPlato!!D O
)!!O P
{"" 	
var$$ 
data$$ 
=$$ 

_IPlatoBiz$$ !
.$$! "
ObtenerPlatoPorTipo$$" 5
($$5 6
idTipoPlato$$6 A
)$$A B
;$$B C
return%% 

ReturnData%% 
<%% !
ObtenerPlatosResponse%% 3
>%%3 4
.%%4 5
ReturnResponse%%5 C
(%%C D
data%%D H
)%%H I
;%%I J
}&& 	
[(( 	
HttpGet((	 
](( 
[)) 	
Route))	 
()) 
$str)) *
)))* +
]))+ ,
public++ 
ResponseMessage++ 
<++ '
ObtenerDetallePlatoResponse++ :
>++: ;
GetDetallePlato++< K
(++K L
int++L O
idPlato++P W
)++W X
{,, 	&
ObtenerDetallePlatoRequest-- &
request--' .
=--/ 0
new--1 4&
ObtenerDetallePlatoRequest--5 O
(--O P
)--P Q
{--R S
idPlato--T [
=--\ ]
idPlato--^ e
}--f g
;--g h
var// 
data// 
=// 

_IPlatoBiz// !
.//! "
ObtenerDetallePlato//" 5
(//5 6
request//6 =
)//= >
;//> ?
return00 

ReturnData00 
<00 '
ObtenerDetallePlatoResponse00 9
>009 :
.00: ;
ReturnResponse00; I
(00I J
data00J N
)00N O
;00O P
}11 	
public44 
string44 
Get44 
(44 
int44 
id44  
)44  !
{55 	
return66 
$str66 
;66 
}77 	
public:: 
void:: 
Post:: 
(:: 
[:: 
FromBody:: "
]::" #
string::# )
value::* /
)::/ 0
{;; 	
}<< 	
public?? 
void?? 
Put?? 
(?? 
int?? 
id?? 
,?? 
[??  !
FromBody??! )
]??) *
string??* 0
value??1 6
)??6 7
{@@ 	
}AA 	
publicDD 
voidDD 
DeleteDD 
(DD 
intDD 
idDD !
)DD! "
{EE 	
}FF 	
}GG 
}HH ï
iD:\Proyectos\RestauranteWebApi\Restaurante.Solution\Restaurante.WebApi\Controllers\TipoPlatoController.cs
	namespace		 	
Restaurante		
 
.		 
WebApi		 
.		 
Controllers		 (
{

 
[ 
RoutePrefix 
( 
$str  
)  !
]! "
public 

class 
TipoPlatoController $
:% &
ApiController' 4
{ 
private 
ITipoPlatoBiz 
_bizTipoPlato +
;+ ,
public 
TipoPlatoController "
(" #
)# $
{ 	
_bizTipoPlato 
= 
new 
TipoPlatoBiz  ,
(, -
)- .
;. /
} 	
public 
TipoPlatoController "
(" #
ITipoPlatoBiz# 0
biz1 4
)4 5
{ 	
_bizTipoPlato 
= 
biz 
;  
} 	
[ 	
HttpGet	 
] 
[ 	
Route	 
( 
$str 
) 
] 
public 
ResponseMessage 
< 
TipoPlatoResponse 0
>0 1
Get2 5
(5 6
)6 7
{ 	
var 
data 
= 
_bizTipoPlato $
.$ %
ObtenerTipoPlato% 5
(5 6
)6 7
;7 8
var!! 
response!! 
=!! 
new!! 
ResponseMessage!! .
<!!. /
TipoPlatoResponse!!/ @
>!!@ A
{"" 

statusCode## 
=## 
$num##  
,##  !
data$$ 
=$$ 
data$$ 
,$$ 
message%% 
=%% 
$str%% 
}&& 
;&& 
return(( 
response(( 
;(( 
})) 	
public,, 
string,, 
Get,, 
(,, 
int,, 
id,,  
),,  !
{-- 	
return.. 
$str.. 
;.. 
}// 	
public22 
void22 
Post22 
(22 
[22 
FromBody22 "
]22" #
string22# )
value22* /
)22/ 0
{33 	
}44 	
public77 
void77 
Put77 
(77 
int77 
id77 
,77 
[77  !
FromBody77! )
]77) *
string77* 0
value771 6
)776 7
{88 	
}99 	
public<< 
void<< 
Delete<< 
(<< 
int<< 
id<< !
)<<! "
{== 	
}>> 	
}?? 
}@@ û
gD:\Proyectos\RestauranteWebApi\Restaurante.Solution\Restaurante.WebApi\Controllers\UsuarioController.cs
	namespace 	
Restaurante
 
. 
WebApi 
. 
Controllers (
{ 
public		 

class		 
UsuarioController		 "
:		# $
ApiController		% 2
{

 
[ 	
HttpPost	 
] 
[ 	
AllowAnonymous	 
] 
[ 	
Route	 
( 
$str  
)  !
]! "
public 
ResponseMessage 
< 
UsuarioResponse .
>. /
SignIn0 6
(6 7
UsuarioRequest7 E
oUsuarioF N
)N O
{ 	
try 
{ 
var 
response 
= 
Proxies &
.& '
ProxyRestauranteInt' :
.: ;
Usuario; B
.B C
RegistrarUsuarioC S
(S T
oUsuarioT \
)\ ]
;] ^
string 
mensaje 
=  
response! )
!=* ,
null- 1
?2 3
$str, G
:H I
$str, ]
;] ^
var 
res 
= 
new 
ResponseMessage -
<- .
UsuarioResponse. =
>= >
(> ?
)? @
;@ A
res 
. 
message 
= 
mensaje %
;% &
res 
. 

statusCode 
=  
response! )
!=* ,
null- 1
?2 3
$num4 7
:8 9
$num: =
;= >
res 
. 
data 
= 
response #
;# $
return 
res 
; 
} 
catch 
( 
	Exception 
ex 
)  
{ 
throw 
ex 
. 
InnerException '
;' (
}   
}!! 	
[## 	
HttpPost##	 
]## 
[$$ 	
AllowAnonymous$$	 
]$$ 
[%% 	
Route%%	 
(%% 
$str%% 
)%%  
]%%  !
public&& 
ResponseMessage&& 
<&& 
string&& %
>&&% &
LogIn&&' ,
(&&, -
UsuarioRequest&&- ;
request&&< C
)&&C D
{'' 	
try(( 
{)) 
var** 
result** 
=** 
Proxies** $
.**$ %
ProxyRestauranteInt**% 8
.**8 9
Usuario**9 @
.**@ A
Ingresar**A I
(**I J
request**J Q
)**Q R
;**R S
string++ 
mensaje++ 
=++  
result++! '
?++( )
$str++* <
:++= >
$str++? Q
;++Q R
var,, 
res,, 
=,, 
new,, 
ResponseMessage,, -
<,,- .
string,,. 4
>,,4 5
(,,5 6
),,6 7
{-- 
message.. 
=.. 
mensaje.. %
,..% &

statusCode// 
=//  
result//! '
?//( )
$num//* -
://. /
$num//0 3
,//3 4
data00 
=00 
$str00 
}11 
;11 
return22 
res22 
;22 
}33 
catch44 
(44 
	Exception44 
ex44 
)44  
{55 
throw66 
ex66 
.66 
InnerException66 '
;66' (
}77 
}88 	
}:: 
};; ˇ

UD:\Proyectos\RestauranteWebApi\Restaurante.Solution\Restaurante.WebApi\Global.asax.cs
	namespace 	
Restaurante
 
. 
WebApi 
{ 
public 

class 
Global 
: 
HttpApplication )
{ 
void 
Application_Start 
( 
object %
sender& ,
,, -
	EventArgs. 7
e8 9
)9 :
{ 	
AreaRegistration 
. 
RegisterAllAreas -
(- .
). /
;/ 0
GlobalConfiguration 
.  
	Configure  )
() *
WebApiConfig* 6
.6 7
Register7 ?
)? @
;@ A
RouteConfig 
. 
RegisterRoutes &
(& '

RouteTable' 1
.1 2
Routes2 8
)8 9
;9 :
HttpConfiguration 

httpConfig (
=) *
GlobalConfiguration+ >
.> ?
Configuration? L
;L M

httpConfig 
. 

Formatters !
.! "
Remove" (
(( )

httpConfig) 3
.3 4

Formatters4 >
.> ?
XmlFormatter? K
)K L
;L M
} 	
} 
} Ù
`D:\Proyectos\RestauranteWebApi\Restaurante.Solution\Restaurante.WebApi\Models\ResponseMessage.cs
	namespace 	
Restaurante
 
. 
WebApi 
. 
Models #
{ 
public 

class 
ResponseMessage  
<  !
T! "
>" #
{ 
public 
int 

statusCode 
{ 
get  #
;# $
set% (
;( )
}* +
public 
T 
data 
{ 
get 
; 
set  
;  !
}" #
public		 
string		 
message		 
{		 
get		  #
;		# $
set		% (
;		( )
}		* +
} 
public 

static 
class 

ReturnData "
<" #
T# $
>$ %
{& '
public 
static 
ResponseMessage %
<% &
T& '
>' (
ReturnResponse) 7
(7 8
T8 9
data: >
)> ?
{ 	
var 
response 
= 
new 
ResponseMessage .
<. /
T/ 0
>0 1
(1 2
)2 3
;3 4
if 
( 
data 
!= 
null 
) 
{ 
response 
. 

statusCode #
=$ %
$num& )
;) *
response 
. 
message  
=! "
$str# '
;' (
response 
. 
data 
= 
data  $
;$ %
} 
else 
{ 
response   
.   

statusCode   #
=  $ %
$num  & )
;  ) *
response!! 
.!! 
message!!  
=!!! "
$str!!# .
;!!. /
response"" 
."" 
data"" 
="" 
data""  $
;""$ %
}## 
return%% 
response%% 
;%% 
}&& 	
}'' 
})) å
aD:\Proyectos\RestauranteWebApi\Restaurante.Solution\Restaurante.WebApi\Properties\AssemblyInfo.cs
[ 
assembly 	
:	 

AssemblyTitle 
( 
$str -
)- .
]. /
[		 
assembly		 	
:			 

AssemblyDescription		 
(		 
$str		 !
)		! "
]		" #
[

 
assembly

 	
:

	 
!
AssemblyConfiguration

  
(

  !
$str

! #
)

# $
]

$ %
[ 
assembly 	
:	 

AssemblyCompany 
( 
$str 
) 
] 
[ 
assembly 	
:	 

AssemblyProduct 
( 
$str /
)/ 0
]0 1
[ 
assembly 	
:	 

AssemblyCopyright 
( 
$str 0
)0 1
]1 2
[ 
assembly 	
:	 

AssemblyTrademark 
( 
$str 
)  
]  !
[ 
assembly 	
:	 

AssemblyCulture 
( 
$str 
) 
] 
[ 
assembly 	
:	 


ComVisible 
( 
false 
) 
] 
[ 
assembly 	
:	 

Guid 
( 
$str 6
)6 7
]7 8
["" 
assembly"" 	
:""	 

AssemblyVersion"" 
("" 
$str"" $
)""$ %
]""% &
[## 
assembly## 	
:##	 

AssemblyFileVersion## 
(## 
$str## (
)##( )
]##) *ﬂ	
eD:\Proyectos\RestauranteWebApi\Restaurante.Solution\Restaurante.WebApi\Proxies\ProxyRestauranteInt.cs
	namespace 	
Restaurante
 
. 
WebApi 
. 
Proxies $
{ 
public 

class 
ProxyRestauranteInt $
{ 
private 
static 
IUsuarioBiz "
IUsuarioBiz# .
;. /
public 
static 
IUsuarioBiz !
Usuario" )
{ 	
get 
{ 
IUsuarioBiz 
= 
new !

UsuarioBiz" ,
(, -
)- .
;. /
return 
IUsuarioBiz "
;" #
} 
} 	
private 
static 

IPlatosBiz !
	IPlatoBiz" +
;+ ,
public 
static 

IPlatosBiz  
Plato! &
{ 	
get   
{!! 
	IPlatoBiz"" 
="" 
new"" 
	PlatosBiz""  )
("") *
)""* +
;""+ ,
return## 
	IPlatoBiz##  
;##  !
}$$ 
}%% 	
}'' 
}(( 